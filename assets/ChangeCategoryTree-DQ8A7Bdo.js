import{y as Ce,r as t,A as c,j as o}from"./index-xkWvTOBi.js";import{a as S}from"./axios-Cm0UX6qg.js";import{B as d}from"./config-CAsDK75y.js";import{b as Se,a as de}from"./CContainer-3EDy8eE_.js";import{C as ye}from"./CNavbar-DMk1JdFZ.js";import{C as Q,a as U,b as T,d as $,e as n}from"./DefaultLayout-CKh5LGPH.js";const Qe=()=>{const[{user:V,token:r},l]=Ce();t.useState(!1);const[Me,z]=t.useState(!1);t.useState(!1),t.useState(0),t.useState(0),t.useState(!0),t.useState([]),t.useState("All Chains"),t.useState("All market"),t.useState(""),t.useState(""),t.useState([]),t.useState(""),t.useState([]),t.useState("Selected markets"),t.useState([]),t.useState(!1);const[W,y]=t.useState("All Main Categories"),[me,M]=t.useState(""),[X,Y]=t.useState([]),[fe,A]=t.useState(""),[Z,g]=t.useState("Select Sub Categories"),[be,u]=t.useState(""),[N,j]=t.useState([]);t.useState({mainCategory:"",subCategory:"",category:""});const[i,m]=t.useState({selectMainCategory:"",selectMainSubCategory:"",moveMainCategory:""}),[f,b]=t.useState({selectMainCategory:"",selectMainSubCategory:"",selectMainSecondSubCategory:"",moveMainCategory:"",moveMainSubCategory:""});t.useState([]);const[x,p]=t.useState("Select Main Categories"),[pe,h]=t.useState(""),[he,R]=t.useState("Select Sub Categories"),[ve,_]=t.useState(""),[ee,te]=t.useState([]),[De,w]=t.useState([]),[Ae,v]=t.useState(""),[je,k]=t.useState("All Main Categories"),[we,L]=t.useState(""),[ke,F]=t.useState("Select Sub Categories"),[Le,q]=t.useState(""),[Ee,ae]=t.useState([]),[Ie,oe]=t.useState([]),[se,G]=t.useState(""),[Pe,re]=t.useState([]),[Be,le]=t.useState("Select Second Sub Categories");t.useState([]);const[Ue,E]=t.useState("All Main Categories"),[Te,I]=t.useState(""),[$e,H]=t.useState("Select Sub Categories"),[ze,J]=t.useState(""),[Re,ie]=t.useState([]),[_e,K]=t.useState([]),[Fe,P]=t.useState("");t.useState(!1),t.useState([]),t.useState(0),t.useState(1),t.useState(),t.useEffect(()=>{r&&S.get(d+"product/categories",{headers:{Authorization:`Bearer ${r}`}}).then(e=>{e.status===200?(console.log(e.data[1]),Y(e.data),te(e.data),ie(e.data),ae(e.data)):e.status===500&&l({type:c,payload:{status:!0,title:"Main Category Loading error",message:"Main Category loading error"}})}).catch(e=>{console.error("Error: ",e)})},[]);const ce=()=>{console.log(i),i.selectMainCategory!==""&&i.selectMainSubCategory!==""&&i.moveMainCategory!==""?ne():l({type:c,payload:{status:!0,title:"Category Update",message:"Please Check the fields",color:"warning"}})},ne=()=>{if(i){let e={category:i};V&&r&&S.put(d+"product/update/file/category",e,{headers:{Authorization:`Bearer ${r}`}}).then(a=>{a.status===200?(l({type:c,payload:{status:!0,title:"Category Update",message:"Category update Success",color:"success"}}),h(""),p("Select Main Categories"),M(""),y("All Main Categories"),u(""),g("Select Sub Categories"),j([]),m({selectMainCategory:"",selectMainSubCategory:"",moveMainCategory:""})):a.status===204?l({type:c,payload:{status:!0,title:"Category Update",message:"No category found",color:"danger"}}):a.status===500&&l({type:c,payload:{status:!0,title:"Category Update",message:"Category update error",color:"danger"}})}).catch(a=>{console.error("Error:",a)})}else l({type:c,payload:{status:!0,title:"Category Update",message:"Please Check the Fields!",color:"warning"}})},D=(e,a,s)=>{s==="move"?e==="all"?(h(""),p("Select Main Categories"),v("")):(h(e),B(e,"move"),p(a),v(e),m({...i,moveMainCategory:e})):s==="select"?e==="all"?(M(""),y("All Main Categories"),u(""),g("Select Sub Categories"),A("")):(M(e),ge(e),y(a),A(e),u(""),g("Select Sub Categories"),m({...i,selectMainCategory:e})):s==="select2"?e==="all"?(L(""),k("All Main Categories"),G("")):(L(e),B(e,"select2"),k(a),G(e),b({...f,selectMainCategory:e})):s==="move2"&&(e==="all"?(I(""),E("All Main Categories"),P("")):(I(e),B(e,"move2"),E(a),P(e),b({...f,moveMainCategory:e})))},O=(e,a,s)=>{s==="move"?e==="all"?(_(""),R("Select Main Categories"),h(""),p("Select Main Categories"),w([]),v("")):(console.log("index",e),_(e),R(a)):s==="select"?e==="all"?(u(""),g("Select Sub Categories"),M(""),y("All Main Categories"),j([]),A("")):(console.log("index",e),u(e),g(a),m({...i,selectMainSubCategory:e})):s==="select2"?e==="all"?(q(""),F("Select Main Categories"),L(""),k("All Main Categories"),w([]),v(""),le("Select Second Sub Categories")):(console.log("index",e),q(e),F(a),ue(se,e),b({...f,selectMainSubCategory:e})):s==="move2"&&(e==="all"?(J(""),H("Select Main Categories"),I(""),E("All Main Categories"),K([]),P("")):(console.log("index",e),J(e),H(a),b({...f,moveMainSubCategory:e})))},ge=e=>{r&&S.get(d+"product/categories/sub/"+e,{headers:{Authorization:`Bearer ${r}`}}).then(a=>{a.status===200?(j(a.data),console.log("select")):a.status===500&&l({type:c,payload:{status:!0,title:"Sub Category Loading",message:"Sub Category loading error"}})}).catch(a=>{console.error("Error: ",a)})},B=(e,a)=>{r&&S.get(d+"product/categories/sub/"+e,{headers:{Authorization:`Bearer ${r}`}}).then(s=>{s.status===200?(a==="move"?w(s.data):a==="select2"?oe(s.data):a==="move2"&&K(s.data),console.log("Move")):s.status===500&&l({type:c,payload:{status:!0,title:"Sub Category Loading",message:"Sub Category loading error"}})}).catch(s=>{console.error("Error: ",s)})},ue=(e,a,s)=>{r&&(z(!0),S.get(d+`product/categories/sub?mId=${e}&subId=${a}`,{headers:{Authorization:`Bearer ${r}`}}).then(C=>{C.status===200?(re(C.data),z(!1),console.log("Done Load")):C.status===500&&l({type:c,payload:{status:!0,title:"Sub Category Loading",message:"Sub Category loading error"}})}).catch(C=>{console.error("Error: ",C)}))};return o.jsxs(Se,{children:[o.jsx(ye,{style:{marginTop:"1%"},className:"bg-body-tertiary"}),o.jsx(Q,{style:{marginLeft:"0%",width:"7%",marginTop:"2%"},color:"secondary",children:"Select Category"}),o.jsxs(U,{style:{marginLeft:"2%",width:"20%",backgroundColor:"#ff4d4d"},children:[o.jsx(T,{style:{color:"white"},children:W}),o.jsxs($,{children:[o.jsx(n,{onClick:()=>D("all",null,"select"),children:"Clear Main Category"}),X.map((e,a)=>o.jsx(n,{onClick:()=>D(a,e,"select"),children:e},a))]})]}),o.jsxs(U,{style:{marginLeft:"2%",width:"20%",backgroundColor:"#ff4d4d"},children:[o.jsx(T,{style:{color:"white"},children:Z}),o.jsxs($,{children:[o.jsx(n,{onClick:()=>O("all",null,"select"),children:"Clear Category"}),N.map((e,a)=>o.jsx(n,{onClick:()=>O(a,e,"select"),children:e},a))]})]}),o.jsx(Q,{style:{marginLeft:"5%",width:"7%"},color:"secondary",children:"Send To"}),o.jsxs(U,{style:{marginLeft:"2%",width:"20%",backgroundColor:"#ff4d4d"},children:[o.jsx(T,{style:{color:"white"},children:x}),o.jsxs($,{children:[o.jsx(n,{onClick:()=>D("all",null,"move"),children:"Clear Main Category"}),ee.map((e,a)=>o.jsx(n,{onClick:()=>D(a,e,"move"),children:e},a))]})]}),o.jsx(de,{style:{marginLeft:"0%",backgroundColor:"#ff4d4d",color:"white",width:"19%",marginTop:"3%"},onClick:()=>{ce()},children:"Update"})]})};export{Qe as default};

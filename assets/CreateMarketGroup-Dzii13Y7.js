import{r as p,x as h,l as x,j as t,z as o}from"./index-B2mJY6nk.js";import{a as C}from"./axios-B4uVmeYG.js";import{b as f,a as y}from"./CContainer-HxaQKhHw.js";import{C as n}from"./CCol-DExom2-S.js";import{C as j}from"./CFormInput-DIFYjtpM.js";import{C as k}from"./CFormSelect-C4GzYggR.js";import"./CFormLabel-BMh_f0jF.js";const b=()=>{const[r,c]=p.useState(),[i,m]=p.useState(),[{user:u,token:l},s]=h(),d=x();console.log("user",u,"token",l);const g=()=>{if(r&&i){const a={name:r,city:i};console.log(a),u&&l&&C.post("http://localhost:8003/market/groups/create",a,{headers:{Authorization:`Bearer ${l}`}}).then(e=>{e.status===201?(s({type:o,payload:{status:!0,title:"Market Group Registration",message:"Market Group Registration Success",color:"success"}}),d("/marketgroups")):e.status===204?s({type:o,payload:{status:!0,title:"Market Group Registration error",message:e.data.message}}):e.status===500&&s({type:o,payload:{status:!0,title:"Market Group Registration error",message:e.data.message}})}).catch(e=>{console.error("Error:",e)})}else s({type:o,payload:{status:!0,title:"Please check the input field",message:res.data.message}})};return t.jsx(f,{children:t.jsxs("div",{className:"row g-3",children:[t.jsx(n,{md:6,children:t.jsx(j,{id:"groupName",label:"Group Name",defaultValue:r,onChange:a=>c(a.target.value)})}),t.jsx(n,{md:6,children:t.jsxs(k,{id:"inputState",label:"City",value:i,onChange:a=>m(a.target.value),children:[t.jsx("option",{children:"Select City"}),t.jsx("option",{children:"Milano"}),t.jsx("option",{children:"Napoli"})]})}),t.jsx(n,{xs:12,children:t.jsx(y,{color:"warning",type:"submit",style:{marginBottom:"3%",width:"200px"},onClick:()=>g(),children:"Add Market Group"})})]})})};export{b as default};

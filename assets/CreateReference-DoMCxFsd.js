import{y as H,r as o,A as n,j as t,h as J}from"./index-CGFmEmA4.js";import{a as A}from"./axios-Cm0UX6qg.js";import{B as S}from"./config-HOLfLxHr.js";import{b as K,a as O}from"./CContainer-r0pJjvK6.js";import{a as C,b as m,c as p,d as l}from"./DefaultLayout-c2mwkARU.js";const ee=()=>{const[{user:T,token:c},r]=H(),[D,b]=o.useState([]),[P,y]=o.useState(null),[L,E]=o.useState([]),[Q,k]=o.useState(""),[B,d]=o.useState("All Chains"),[$,x]=o.useState("All market"),[U,g]=o.useState("All market"),[W,j]=o.useState(""),[_,h]=o.useState("All Chains"),[z,R]=o.useState([]),[F,V]=o.useState([]),[q,w]=o.useState(null),[v,i]=o.useState(!1);o.useEffect(()=>{c&&A.get(S+"assistant/market/chains/all",{headers:{Authorization:`Bearer ${c}`}}).then(e=>{e.status===200?(b(e.data),V(e.data)):e.status===500&&r({type:n,payload:{status:!0,title:"Chain Loading error",message:e.data.message}})}).catch(e=>{console.error("Error: ",e)})},[]);const M=(e,s)=>{A.get(S+`assistant/market/locations?brand=${e}`,{headers:{Authorization:`Bearer ${c}`}}).then(a=>{a.status===200?s==="from"?E(a.data.data):s==="to"&&R(a.data.data):a.status===500&&r({type:n,payload:{status:!0,title:"Market Loading error",message:a.data.message}})}).catch(a=>{console.error("Error: ",a)})},u=(e,s,a)=>{s==="from"?e==="all"?(k(""),d("All Chains")):(k(e),M(e,"from"),d(a)):s==="to"&&(e==="all"?(j(""),h("All Chains")):(j(e),M(e,"to"),h(a)))},f=(e,s,a)=>{s==="from"?e==="all"?(y(""),x("All Markets"),k(""),d("All Chains")):(y(e),x(a)):s==="to"&&(e==="all"?(w(""),g("All Markets"),j(""),h("All Chains")):(w(e),g(a)))},G=(e,s)=>{console.log("Update",e,s),i(!0),T&&A.post(S+`product/market/copy?from=${e}&to=${s}`,null,{headers:{Authorization:`Bearer ${c}`}}).then(a=>{a.status===200?(d("All Chains"),x("All Markets"),h("All Chains"),g("All Markets"),i(!1),r({type:n,payload:{status:!0,title:"Product Clone",message:"Products cloned successfully",color:"success"}})):a.status===204?(r({type:n,payload:{status:!0,title:"Product Clone",message:"Products clone error",color:"warning"}}),i(!1)):a.status===404?(r({type:n,payload:{status:!0,title:"Product Clone",message:"No products to clone",color:"warning"}}),i(!1)):a.status===500&&(r({type:n,payload:{status:!0,title:"Product Clone",message:"Products clone error",color:"warning"}}),i(!1))}).catch(a=>{console.error("Error: ",a)})};return t.jsxs(K,{children:[t.jsx("h4",{children:"From"}),t.jsx("br",{}),t.jsxs(C,{style:{marginLeft:"2%",width:"17%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:B}),t.jsxs(p,{children:[t.jsx(l,{onClick:()=>u("all","from"),children:"All"}),D.map((e,s)=>t.jsx(l,{onClick:()=>u(e.id,"from",e.name),children:e.name},s))]})]}),t.jsxs(C,{style:{marginLeft:"2%",width:"53%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:$}),t.jsxs(p,{children:[t.jsx(l,{onClick:()=>f("all","from"),children:"Select the Chain"}),L.map((e,s)=>t.jsx(l,{onClick:()=>f(e._id,"from",e.address),children:e.address},s))]})]}),t.jsx("br",{}),"  ",t.jsx("h4",{children:"To"}),t.jsx("br",{}),t.jsxs(C,{style:{marginLeft:"2%",width:"17%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:_}),t.jsxs(p,{children:[t.jsx(l,{onClick:()=>u("all","to"),children:"All"}),F.map((e,s)=>t.jsx(l,{onClick:()=>u(e.id,"to",e.name),children:e.name},s))]})]}),t.jsxs(C,{style:{marginLeft:"2%",width:"53%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:U}),t.jsxs(p,{children:[t.jsx(l,{onClick:()=>f("all","to"),children:"Select the Chain"}),z.map((e,s)=>t.jsx(l,{onClick:()=>f(e._id,"to",e.address),children:e.address},s))]})]}),t.jsx("br",{}),t.jsx(O,{onClick:()=>G(P,q),style:{marginLeft:"2%",marginTop:"2%",backgroundColor:"#ff4d4d",color:"white"},children:v?t.jsx(J,{}):"Update Market"})]})};export{ee as default};

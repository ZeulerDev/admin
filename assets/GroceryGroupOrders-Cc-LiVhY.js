import{y as G,r as d,D as T,A as c,j as e,i as v}from"./index-Bw4qy63N.js";import{a as O}from"./axios-Cm0UX6qg.js";import{B as D}from"./config-HOLfLxHr.js";import{b as E}from"./CContainer-D9Y40xYE.js";import{C as u}from"./CNavbar-6bSPSshB.js";import{d as A}from"./DefaultLayout-CtZwuUM4.js";import{C as B,a as S,b as g,c as a,d as w,e as t}from"./CTable-9jr_XeHD.js";import{C as N}from"./CCardImage-B0BRIA0d.js";const M=()=>{var p,x;const[{user:n,token:i},l]=G(),[h,f]=d.useState([]),[C,m]=d.useState(!1),{id:b}=T();d.useEffect(()=>{n&&i&&L(b)},[n,i]);const L=r=>{m(!0),O.get(D+"assistant/grocery/group/orders/"+r,{headers:{Authorization:`Bearer ${i}`}}).then(s=>{s.status===200?(console.log(s.data),f(s.data),m(!1)):s.status===203?l({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===204?l({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===500&&l({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}})}).catch(s=>{console.error("Error:",s)})};return e.jsxs(E,{children:[e.jsx(u,{style:{borderBottomColor:"white"},className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Details"})}),e.jsx("div",{children:(p=h.items)==null?void 0:p.map((r,s)=>e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",marginTop:10},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{marginLeft:5},children:["Order No: ",e.jsx("a",{children:r.order.no})," "]}),e.jsxs("h6",{style:{marginLeft:5},children:["Status:"," ",e.jsx(A,{style:{width:80},color:"warning",children:r.order.status})]}),e.jsxs("h6",{style:{marginLeft:5},children:["Address: ",r.order.address]})]}),e.jsxs("div",{style:{marginLeft:500},children:[e.jsxs("h6",{style:{marginLeft:5},children:["Delivery Fee: ",r.order.deliveryFee]}),e.jsxs("h6",{style:{marginLeft:5},children:["Markup: ",r.order.markup]}),e.jsxs("h6",{style:{marginLeft:5},children:["Total: ",r.order.total]})]})]})},s))}),C?e.jsx(v,{}):e.jsxs("div",{children:[e.jsx(u,{className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Items"})}),e.jsxs(B,{children:[e.jsx(S,{children:e.jsxs(g,{children:[e.jsx(a,{scope:"col",children:"ID"}),e.jsx(a,{scope:"col",children:"Photo"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"Measure"}),e.jsx(a,{scope:"col",children:"Qty"}),e.jsx(a,{scope:"col",children:"Price"})]})}),e.jsx(w,{children:(x=h.items)==null?void 0:x.map((r,s)=>{var j;return(j=r.items)==null?void 0:j.map((o,y)=>e.jsxs(g,{children:[e.jsx(t,{children:y+1}),e.jsx(t,{children:e.jsx(N,{style:{width:50,height:50,borderRadius:10},src:`https://api.zeuler.com/image/${o.photo}`})}),e.jsx(t,{children:o.name}),e.jsx(t,{children:o.measure}),e.jsx(t,{children:o.qty}),e.jsx(t,{children:o.price})]},`${s}-${y}`))})})]})]})]})};export{M as default};

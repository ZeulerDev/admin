import{y as C,l as b,r as n,B as y,A as o,j as a,h as T,L as k,m as B}from"./index-Ce9Pt6aD.js";import{a as E}from"./axios-Cm0UX6qg.js";import{B as L}from"./config-HOLfLxHr.js";import{b as A}from"./CContainer-qKAPghSJ.js";import{C as D}from"./CNavbar-DmMCgjcW.js";import{C as S,a as N,b as p,c as i,d as R,e as l}from"./CTable-BZo_5Coh.js";import{e as M}from"./DefaultLayout-BetbveVL.js";const O=()=>{var u;const[{user:m,token:c},t]=C();b();const[x,j]=n.useState([]),[f,d]=n.useState(!1),{id:h}=y();n.useEffect(()=>{const s=setTimeout(()=>{t({type:o,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),d(!1)},2e4);return m&&c&&g(h,s),()=>{clearTimeout(s)}},[m,c]);const g=(s,r)=>{d(!0),E.get(L+"assistant/batch/markets/"+s,{headers:{Authorization:`Bearer ${c}`}}).then(e=>{e.status===200?(j(e.data),d(!1),clearTimeout(r)):e.status===203?t({type:o,payload:{status:!0,title:"Batch markets loading error",message:e.data.message}}):e.status===204?t({type:o,payload:{status:!0,title:"Batch markets loading error",message:e.data.message}}):e.status===500&&t({type:o,payload:{status:!0,title:"Batch markets loading error",message:e.data.message}})}).catch(e=>{console.error("Error:",e)})};return a.jsxs(A,{children:[a.jsx(D,{className:"bg-body-tertiary"}),f?a.jsx(T,{}):a.jsxs(S,{children:[a.jsx(N,{children:a.jsxs(p,{children:[a.jsx(i,{scope:"col",children:"#"}),a.jsx(i,{scope:"col",children:"Chain Name"}),a.jsx(i,{scope:"col",children:"Address"}),a.jsx(i,{scope:"col",children:"Orders"})]})}),a.jsx(R,{children:(u=x.markets)==null?void 0:u.map((s,r)=>a.jsxs(p,{children:[a.jsx(l,{children:r+1}),a.jsx(l,{children:s.chain}),a.jsx(l,{children:s.address}),a.jsx(l,{children:a.jsx(k,{to:`/order/batches/market/orders/${h}/${s.id}`,children:a.jsx(B,{icon:M,size:"xl"})})})]},r))})]})]})};export{O as default};

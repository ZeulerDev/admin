import{y as H,r as o,A as n,j as t,h as J}from"./index-xkWvTOBi.js";import{a as A}from"./axios-Cm0UX6qg.js";import{B as S}from"./config-CAsDK75y.js";import{b as K,a as O}from"./CContainer-3EDy8eE_.js";import{a as C,b as m,d as p,e as r}from"./DefaultLayout-CKh5LGPH.js";const ee=()=>{const[{user:T,token:c},l]=H(),[D,b]=o.useState([]),[P,y]=o.useState(null),[L,E]=o.useState([]),[Q,k]=o.useState(""),[$,d]=o.useState("All Chains"),[B,x]=o.useState("All market"),[U,g]=o.useState("All market"),[W,j]=o.useState(""),[_,h]=o.useState("All Chains"),[z,R]=o.useState([]),[F,V]=o.useState([]),[q,w]=o.useState(null),[v,i]=o.useState(!1);o.useEffect(()=>{c&&A.get(S+"assistant/market/chains/all",{headers:{Authorization:`Bearer ${c}`}}).then(e=>{e.status===200?(b(e.data),V(e.data)):e.status===500&&l({type:n,payload:{status:!0,title:"Chain Loading error",message:e.data.message}})}).catch(e=>{console.error("Error: ",e)})},[]);const M=(e,a)=>{A.get(S+`assistant/market/from/0?brand=${e}&type=${a}`,{headers:{Authorization:`Bearer ${c}`}}).then(s=>{s.status===200?a==="from"?E(s.data.data):a==="to"&&R(s.data.data):s.status===500&&l({type:n,payload:{status:!0,title:"Market Loading error",message:s.data.message}})}).catch(s=>{console.error("Error: ",s)})},u=(e,a,s)=>{a==="from"?e==="all"?(k(""),d("All Chains")):(k(e),M(e,"from"),d(s)):a==="to"&&(e==="all"?(j(""),h("All Chains")):(j(e),M(e,"to"),h(s)))},f=(e,a,s)=>{a==="from"?e==="all"?(y(""),x("All Markets"),k(""),d("All Chains")):(y(e),x(s)):a==="to"&&(e==="all"?(w(""),g("All Markets"),j(""),h("All Chains")):(w(e),g(s)))},G=(e,a)=>{console.log("Update",e,a),i(!0),T&&A.post(S+`product/market/copy?from=${e}&to=${a}`,null,{headers:{Authorization:`Bearer ${c}`}}).then(s=>{s.status===200?(d("All Chains"),x("All Markets"),h("All Chains"),g("All Markets"),i(!1),l({type:n,payload:{status:!0,title:"Product Clone",message:"Products cloned successfully",color:"success"}})):s.status===204?(l({type:n,payload:{status:!0,title:"Product Clone",message:"Products clone error",color:"warning"}}),i(!1)):s.status===404?(l({type:n,payload:{status:!0,title:"Product Clone",message:"No products to clone",color:"warning"}}),i(!1)):s.status===500&&(l({type:n,payload:{status:!0,title:"Product Clone",message:"Products clone error",color:"warning"}}),i(!1))}).catch(s=>{console.error("Error: ",s)})};return t.jsxs(K,{children:[t.jsx("h4",{children:"From"}),t.jsx("br",{}),t.jsxs(C,{style:{marginLeft:"2%",width:"17%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:$}),t.jsxs(p,{children:[t.jsx(r,{onClick:()=>u("all","from"),children:"All"}),D.map((e,a)=>t.jsx(r,{onClick:()=>u(e.id,"from",e.name),children:e.name},a))]})]}),t.jsxs(C,{style:{marginLeft:"2%",width:"53%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:B}),t.jsxs(p,{children:[t.jsx(r,{onClick:()=>f("all","from"),children:"Select the Chain"}),L.map((e,a)=>t.jsx(r,{onClick:()=>f(e._id,"from",e.address),children:e.address},a))]})]}),t.jsx("br",{}),"  ",t.jsx("h4",{children:"To"}),t.jsx("br",{}),t.jsxs(C,{style:{marginLeft:"2%",width:"17%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:_}),t.jsxs(p,{children:[t.jsx(r,{onClick:()=>u("all","to"),children:"All"}),F.map((e,a)=>t.jsx(r,{onClick:()=>u(e.id,"to",e.name),children:e.name},a))]})]}),t.jsxs(C,{style:{marginLeft:"2%",width:"53%",backgroundColor:"#ff4d4d",color:"white"},children:[t.jsx(m,{style:{color:"white"},children:U}),t.jsxs(p,{children:[t.jsx(r,{onClick:()=>f("all","to"),children:"Select the Chain"}),z.map((e,a)=>t.jsx(r,{onClick:()=>f(e._id,"to",e.address),children:e.address},a))]})]}),t.jsx("br",{}),t.jsx(O,{onClick:()=>G(P,q),style:{marginLeft:"2%",marginTop:"2%",backgroundColor:"#ff4d4d",color:"white"},children:v?t.jsx(J,{}):"Update Market"})]})};export{ee as default};

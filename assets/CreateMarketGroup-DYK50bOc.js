import{r as p,x as h,l as x,j as t,z as r}from"./index-Dru6cJd9.js";import{a as C}from"./axios-B4uVmeYG.js";import{b as f,a as y}from"./CContainer-kO2Y6oaX.js";import{C as l}from"./CCol-CgJ3Fg_f.js";import{C as j}from"./CFormInput-B0afyM5h.js";import{C as k}from"./CFormSelect-Xslpmxb2.js";import"./CFormLabel-Bk9i1EOs.js";const b=()=>{const[o,c]=p.useState(),[i,m]=p.useState(),[{user:u,token:n},s]=h(),d=x();console.log("user",u,"token",n);const g=()=>{if(o&&i){const a={name:o,city:i};console.log(a),u&&n&&C.post("http://15.160.211.157/market/groups/create",a,{headers:{Authorization:`Bearer ${n}`}}).then(e=>{e.status===201?(s({type:r,payload:{status:!0,title:"Market Group Registration",message:"Market Group Registration Success",color:"success"}}),d("/marketgroups")):e.status===204?s({type:r,payload:{status:!0,title:"Market Group Registration error",message:e.data.message}}):e.status===500&&s({type:r,payload:{status:!0,title:"Market Group Registration error",message:e.data.message}})}).catch(e=>{console.error("Error:",e)})}else s({type:r,payload:{status:!0,title:"Please check the input field",message:res.data.message}})};return t.jsx(f,{children:t.jsxs("div",{className:"row g-3",children:[t.jsx(l,{md:6,children:t.jsx(j,{id:"groupName",label:"Group Name",defaultValue:o,onChange:a=>c(a.target.value)})}),t.jsx(l,{md:6,children:t.jsxs(k,{id:"inputState",label:"City",value:i,onChange:a=>m(a.target.value),children:[t.jsx("option",{children:"Select City"}),t.jsx("option",{children:"Milano"}),t.jsx("option",{children:"Napoli"})]})}),t.jsx(l,{xs:12,children:t.jsx(y,{color:"warning",type:"submit",style:{marginBottom:"3%",width:"200px"},onClick:()=>g(),children:"Add Market Group"})})]})})};export{b as default};

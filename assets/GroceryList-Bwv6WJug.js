import{r as t,y as ee,A as D,j as e,i as u,m as c,L as E}from"./index-BAqp_K3j.js";import{a as se}from"./axios-Cm0UX6qg.js";import{B as ae}from"./config-HOLfLxHr.js";import{b as le,a as I}from"./CContainer-BPxaVbye.js";import{C as oe}from"./CNavbar-BH6uq7AA.js";import{C as P,a as M,b as i,c as a,d as z,e as o}from"./CTable-B3euVDGz.js";import{c as B}from"./cil-info-CmGCY32x.js";import{e as F}from"./DefaultLayout-CBZ6r8nq.js";import{C as te,a as w}from"./CPaginationItem-Daq7Oz-j.js";import{C as A,a as R,b as H,c as V}from"./CModalTitle-EW5UVKKc.js";import{C as re}from"./CCardImage-BBwCXleK.js";import{C as G}from"./CModalFooter-BsDCQM3E.js";import{C as ce}from"./CRow-a58PoeEk.js";import{C as p}from"./CFormLabel-Dm45PDtE.js";import{C}from"./CCol-BCpO-R6y.js";import{C as f}from"./CFormInput-CsdBLR2R.js";const Le=()=>{const[g,n]=t.useState(!1),[O,d]=t.useState(!1),[{user:y,token:x},b]=ee(),[Y,_]=t.useState([]);t.useState([]);const[q,v]=t.useState(!1),[h,ie]=t.useState(!1);t.useState([]);const[m,Q]=t.useState([]),[U,$]=t.useState([]),[r,S]=t.useState(0),[J,T]=t.useState(!0);t.useEffect(()=>{y&&x&&j(0)},[y,x]);const j=(s,L)=>{v(!0),se.get(ae+"assistant/grocery/list/"+s,{headers:{Authorization:`Bearer ${x}`}}).then(l=>{l.status===200?(_(l.data),console.log(l.data),v(!1),l.data.length<50?(T(!0),console.log("ok")):l.data.length>49&&T(!1)):l.status===204?b({type:D,payload:{status:!0,title:"Grocery List loading error",message:l.data.message}}):l.status===500&&b({type:D,payload:{status:!0,title:"Grocery List loading error",message:l.data.message}})}).catch(l=>{console.error("Error:",l)})},K=()=>{console.log(r);const s=r+50;S(s),j(s)},W=()=>{const s=r-50;console.log(s),S(s),j(s)},X=s=>{n(!g),$(s)},Z=s=>{d(!h),Q(s)};return e.jsxs(le,{children:[e.jsx(oe,{className:"bg-body-tertiary"}),q?e.jsx(u,{}):e.jsxs(P,{children:[e.jsx(M,{children:e.jsxs(i,{children:[e.jsx(a,{scope:"col",children:"No"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"Date"}),e.jsx(a,{scope:"col",children:"Type"}),e.jsx(a,{scope:"col",children:"Address"}),e.jsx(a,{scope:"col",children:"Items"}),e.jsx(a,{scope:"col",children:"Customer"})]})}),e.jsx(z,{children:Y.map(s=>e.jsxs(i,{children:[e.jsx(o,{children:"#"}),e.jsx(o,{children:s.name?s.name:""}),e.jsx(o,{children:s.data}),e.jsx(o,{children:s.type}),e.jsx(o,{children:s.address}),e.jsx(o,{children:s.items===null?e.jsx(c,{icon:B,size:"xl"}):e.jsx(E,{children:e.jsx(c,{icon:B,size:"xl",onClick:()=>X(s.items)})})}),e.jsx(o,{children:s.customer===null?e.jsx(c,{icon:F,size:"xl"}):e.jsx(E,{children:e.jsx(c,{icon:F,size:"xl",onClick:()=>Z(s.customer)})})})]},s.id))})]}),e.jsxs(te,{"aria-label":"Page navigation example",children:[e.jsx(w,{disabled:r<=0,onClick:W,children:"Previous"}),e.jsx(w,{disabled:J===!0,onClick:K,children:"Next"})]}),e.jsxs(A,{visible:g,scrollable:!0,size:"xl",onClose:()=>n(!1),children:[e.jsx(R,{closeButton:!0,children:e.jsx(H,{children:"Customer Information"})}),e.jsx(V,{style:{overflowY:"auto",maxHeight:"70vh",display:"flex",justifyContent:"center"},children:h?e.jsx(u,{}):e.jsxs(P,{children:[e.jsx(M,{children:e.jsxs(i,{children:[e.jsx(a,{scope:"col",children:"#"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"Price"}),e.jsx(a,{scope:"col",children:"Saving"}),e.jsx(a,{scope:"col",children:"Qty"}),e.jsx(a,{scope:"col",children:"Measure"}),e.jsx(a,{scope:"col",children:"Market"})]})}),e.jsx(z,{children:U.map((s,L)=>{var l,k,N;return e.jsxs(i,{children:[e.jsx(a,{scope:"row",children:e.jsx(re,{style:{width:50,height:50,borderRadius:10},src:"https://api.zeuler.com/image/"+s.photo})}),e.jsx(o,{children:s.name}),e.jsx(o,{children:s.price}),e.jsx(o,{children:s.saving?s.saving.toFixed(2):null}),e.jsx(o,{children:s.qty}),e.jsx(o,{children:s.um}),e.jsxs(o,{children:[(k=(l=s.market)==null?void 0:l.chain)==null?void 0:k.name," - ",(N=s.market)==null?void 0:N.address]})]},L)})})]})}),e.jsx(G,{children:e.jsx(I,{color:"secondary",onClick:()=>n(!1),children:"Close"})})]}),e.jsxs(A,{visible:O,scrollable:!0,size:"lg",onClose:()=>d(!1),children:[e.jsx(R,{closeButton:!0,children:e.jsx(H,{children:"Customer Information"})}),e.jsx(V,{style:{overflowY:"auto",maxHeight:"70vh",display:"flex",justifyContent:"center"},children:h?e.jsx(u,{}):e.jsx("div",{children:e.jsxs(ce,{className:"mb-3",children:[e.jsx(p,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Name"}),e.jsx(C,{sm:10,children:e.jsx(f,{type:"text",defaultValue:m.name,readOnly:!0,plainText:!0})}),e.jsx(p,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Email"}),e.jsx(C,{sm:10,children:e.jsx(f,{type:"text",defaultValue:m.email,readOnly:!0,plainText:!0})}),e.jsx(p,{htmlFor:"staticEmail",className:"col-sm-2 col-form-label",children:"Contact"}),e.jsx(C,{sm:10,children:e.jsx(f,{type:"text",defaultValue:m.contact,readOnly:!0,plainText:!0})})]})})}),e.jsx(G,{children:e.jsx(I,{color:"secondary",onClick:()=>d(!1),children:"Close"})})]})]})};export{Le as default};

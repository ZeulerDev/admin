import{x as L,r as m,A as G,z as d,j as e,h as v}from"./index-DY5Equgr.js";import{a as D}from"./axios-B4uVmeYG.js";import{B as O}from"./config-HOLfLxHr.js";import{b as w}from"./CContainer-_Gzt09pj.js";import{C as y}from"./CNavbar-CMesnh0F.js";import{C as A}from"./DefaultLayout-DEOfvUp4.js";import{C as E,a as N,b as x,c as t,d as S,e as a}from"./CTable-CB8lfHH6.js";import{C as B}from"./CCardImage-BijonMni.js";const M=()=>{var j,u;const[{user:p,token:n},i]=L(),[c,f]=m.useState([]),[C,h]=m.useState(!1),{id:b}=G();m.useEffect(()=>{const r=setTimeout(()=>{i({type:d,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),h(!1)},2e4);return p&&n&&T(b,r),()=>{clearTimeout(r)}},[p,n]);const T=(r,o)=>{h(!0),D.get(O+"assistant/grocery/group/orders/"+r,{headers:{Authorization:`Bearer ${n}`}}).then(s=>{s.status===200?(console.log("data",s.data),f(s.data),h(!1),clearTimeout(o)):s.status===203?i({type:d,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===204?i({type:d,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===500&&i({type:d,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}})}).catch(s=>{console.error("Error:",s)})};return e.jsxs(w,{children:[e.jsx(y,{style:{borderBottomColor:"white"},className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Details"})}),e.jsx("div",{children:(j=c.items)==null?void 0:j.map((r,o)=>e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",marginTop:10},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{marginLeft:5},children:["Order No: ",e.jsx("a",{children:r.order.no})," "]}),e.jsxs("h6",{style:{marginLeft:5},children:["Status:"," ",e.jsx(A,{style:{width:80},color:"warning",children:r.order.status})]}),e.jsxs("h6",{style:{marginLeft:5},children:["Address: ",r.order.address]})]}),e.jsxs("div",{style:{marginLeft:500},children:[e.jsxs("h6",{style:{marginLeft:5},children:["Delivery Fee: ",r.order.deliveryFee]}),e.jsxs("h6",{style:{marginLeft:5},children:["Markup: ",r.order.markup]}),e.jsxs("h6",{style:{marginLeft:5},children:["Total: ",r.order.total]})]})]})},o))}),C?e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(v,{style:{marginTop:"15%"}})}):e.jsxs("div",{children:[e.jsx(y,{className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Items"})}),e.jsxs(E,{children:[e.jsx(N,{children:e.jsxs(x,{children:[e.jsx(t,{scope:"col",children:"ID"}),e.jsx(t,{scope:"col",children:"Photo"}),e.jsx(t,{scope:"col",children:"Name"}),e.jsx(t,{scope:"col",children:"Measure"}),e.jsx(t,{scope:"col",children:"Qty"}),e.jsx(t,{scope:"col",children:"Price"})]})}),e.jsx(S,{children:c.length===0?e.jsx(x,{children:e.jsx(a,{colSpan:"6",style:{textAlign:"center",backgroundColor:"white"},children:e.jsx("h6",{style:{marginTop:"1%"},children:"No Data"})})}):(u=c.items)==null?void 0:u.map((r,o)=>{var s;return(s=r.items)==null?void 0:s.map((l,g)=>e.jsxs(x,{children:[e.jsx(a,{children:g+1}),e.jsx(a,{children:e.jsx(B,{style:{width:50,height:50,borderRadius:10},src:`https://api.zeuler.com/image/${l.photo}`})}),e.jsx(a,{children:l.name}),e.jsx(a,{children:l.measure}),e.jsx(a,{children:l.qty}),e.jsx(a,{children:l.price})]},`${o}-${g}`))})})]})]})]})};export{M as default};

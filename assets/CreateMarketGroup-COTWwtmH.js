import{r as p,x as h,l as x,j as t,z as o}from"./index-BismIp9s.js";import{a as C}from"./axios-B4uVmeYG.js";import{B as f}from"./config-HOLfLxHr.js";import{b as k,a as y}from"./CContainer-BEr4FbZI.js";import{C as l}from"./CCol-UWMQvI_f.js";import{C as j}from"./CFormInput-BKuvivfL.js";import{C as G}from"./CFormSelect-B7cr2R5Z.js";import"./CFormLabel-s32zAUud.js";const B=()=>{const[r,c]=p.useState(),[i,m]=p.useState(),[{user:u,token:n},s]=h(),d=x();console.log("user",u,"token",n);const g=()=>{if(r&&i){const a={name:r,city:i};console.log(a),u&&n&&C.post(f+"market/groups/create",a,{headers:{Authorization:`Bearer ${n}`}}).then(e=>{e.status===201?(s({type:o,payload:{status:!0,title:"Market Group Registration",message:"Market Group Registration Success",color:"success"}}),d("/marketgroups")):e.status===204?s({type:o,payload:{status:!0,title:"Market Group Registration error",message:e.data.message}}):e.status===500&&s({type:o,payload:{status:!0,title:"Market Group Registration error",message:e.data.message}})}).catch(e=>{console.error("Error:",e)})}else s({type:o,payload:{status:!0,title:"Please check the input field",message:res.data.message}})};return t.jsx(k,{children:t.jsxs("div",{className:"row g-3",children:[t.jsx(l,{md:6,children:t.jsx(j,{id:"groupName",label:"Group Name",defaultValue:r,onChange:a=>c(a.target.value)})}),t.jsx(l,{md:6,children:t.jsxs(G,{id:"inputState",label:"City",value:i,onChange:a=>m(a.target.value),children:[t.jsx("option",{children:"Select City"}),t.jsx("option",{children:"Milano"}),t.jsx("option",{children:"Napoli"})]})}),t.jsx(l,{xs:12,children:t.jsx(y,{color:"warning",type:"submit",style:{marginBottom:"3%",width:"17%",backgroundColor:"#ff4d4d",color:"white"},onClick:()=>g(),children:"Add Market Group"})})]})})};export{B as default};

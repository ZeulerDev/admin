import{x as ee,r as e,z as n,j as s}from"./index-Dy30eiM6.js";import{a as M}from"./axios-B4uVmeYG.js";import{B as m}from"./config-HOLfLxHr.js";import{b as te,a as ae}from"./CContainer-PswvU4of.js";import{C as se}from"./CNavbar-DSEUJjHx.js";import{C as $,a as D,b as j,d as A,e as c}from"./DefaultLayout-E8F3KeA2.js";const we=()=>{const[{user:x,token:l},i]=ee();e.useState(!1),e.useState(!1),e.useState(!1),e.useState(0),e.useState(0),e.useState(!0),e.useState([]),e.useState("All Chains"),e.useState("All market"),e.useState(""),e.useState(""),e.useState([]),e.useState(""),e.useState([]),e.useState("Selected markets"),e.useState([]),e.useState(!1);const[R,C]=e.useState("All Main Categories"),[oe,S]=e.useState(""),[N,_]=e.useState([]),[re,f]=e.useState(""),[F,g]=e.useState("Select Sub Categories"),[le,u]=e.useState(""),[q,p]=e.useState([]);e.useState({mainCategory:"",subCategory:"",category:""});const[r,d]=e.useState({selectMainCategory:"",selectMainSubCategory:"",moveMainCategory:""}),[w,k]=e.useState({selectMainCategory:"",selectMainSubCategory:"",selectMainSecondSubCategory:"",moveMainCategory:"",moveMainSubCategory:""});e.useState([]);const[G,h]=e.useState("Select Main Categories"),[ie,b]=e.useState("");e.useState("Select Sub Categories"),e.useState("");const[H,J]=e.useState([]),[ne,K]=e.useState([]),[ce,L]=e.useState(""),[ge,E]=e.useState("All Main Categories"),[ue,I]=e.useState("");e.useState("Select Sub Categories"),e.useState("");const[Ce,O]=e.useState([]),[Se,Q]=e.useState([]),[de,U]=e.useState("");e.useState([]),e.useState("Select Second Sub Categories"),e.useState([]);const[ye,B]=e.useState("All Main Categories"),[Me,T]=e.useState("");e.useState("Select Sub Categories"),e.useState("");const[me,V]=e.useState([]),[fe,W]=e.useState([]),[pe,P]=e.useState("");e.useState(!1),e.useState([]),e.useState(0),e.useState(1),e.useState(),e.useEffect(()=>{l&&M.get(m+"product/categories",{headers:{Authorization:`Bearer ${l}`}}).then(t=>{t.status===200?(console.log(t.data[1]),_(t.data),J(t.data),V(t.data),O(t.data)):t.status===500&&i({type:n,payload:{status:!0,title:"Main Category Loading error",message:"Main Category loading error"}})}).catch(t=>{console.error("Error: ",t)})},[]);const X=()=>{console.log(r),r.selectMainCategory!==""&&r.selectMainSubCategory!==""&&r.moveMainCategory!==""?Y():i({type:n,payload:{status:!0,title:"Category Update",message:"Please Check the fields",color:"warning"}})},Y=()=>{if(r){let t={category:r};x&&l&&M.put(m+"product/update/file/category",t,{headers:{Authorization:`Bearer ${l}`}}).then(a=>{a.status===200?(i({type:n,payload:{status:!0,title:"Category Update",message:"Category update Success",color:"success"}}),b(""),h("Select Main Categories"),S(""),C("All Main Categories"),u(""),g("Select Sub Categories"),p([]),d({selectMainCategory:"",selectMainSubCategory:"",moveMainCategory:""})):a.status===204?i({type:n,payload:{status:!0,title:"Category Update",message:"No category found",color:"danger"}}):a.status===500&&i({type:n,payload:{status:!0,title:"Category Update",message:"Category update error",color:"danger"}})}).catch(a=>{console.error("Error:",a)})}else i({type:n,payload:{status:!0,title:"Category Update",message:"Please Check the Fields!",color:"warning"}})},y=(t,a,o)=>{o==="move"?t==="all"?(b(""),h("Select Main Categories"),L("")):(b(t),v(t,"move"),h(a),L(t),d({...r,moveMainCategory:t})):o==="select"?t==="all"?(S(""),C("All Main Categories"),u(""),g("Select Sub Categories"),f("")):(S(t),Z(t),C(a),f(t),u(""),g("Select Sub Categories"),d({...r,selectMainCategory:t})):o==="select2"?t==="all"?(I(""),E("All Main Categories"),U("")):(I(t),v(t,"select2"),E(a),U(t),k({...w,selectMainCategory:t})):o==="move2"&&(t==="all"?(T(""),B("All Main Categories"),P("")):(T(t),v(t,"move2"),B(a),P(t),k({...w,moveMainCategory:t})))},z=(t,a,o)=>{t==="all"?(u(""),g("Select Sub Categories"),S(""),C("All Main Categories"),p([]),f("")):(console.log("index",t),u(t),g(a),d({...r,selectMainSubCategory:t}))},Z=t=>{l&&M.get(m+"product/categories/sub/"+t,{headers:{Authorization:`Bearer ${l}`}}).then(a=>{a.status===200?(p(a.data),console.log("select")):a.status===500&&i({type:n,payload:{status:!0,title:"Sub Category Loading",message:"Sub Category loading error"}})}).catch(a=>{console.error("Error: ",a)})},v=(t,a)=>{l&&M.get(m+"product/categories/sub/"+t,{headers:{Authorization:`Bearer ${l}`}}).then(o=>{o.status===200?(a==="move"?K(o.data):a==="select2"?Q(o.data):a==="move2"&&W(o.data),console.log("Move")):o.status===500&&i({type:n,payload:{status:!0,title:"Sub Category Loading",message:"Sub Category loading error"}})}).catch(o=>{console.error("Error: ",o)})};return s.jsxs(te,{children:[s.jsx(se,{style:{marginTop:"1%"},className:"bg-body-tertiary"}),s.jsx($,{style:{marginLeft:"0%",width:"7%",marginTop:"2%"},color:"secondary",children:"Select Category"}),s.jsxs(D,{style:{marginLeft:"2%",width:"20%",backgroundColor:"#ff4d4d"},children:[s.jsx(j,{style:{color:"white"},children:R}),s.jsxs(A,{children:[s.jsx(c,{onClick:()=>y("all",null,"select"),children:"Clear Main Category"}),N.map((t,a)=>s.jsx(c,{onClick:()=>y(a,t,"select"),children:t},a))]})]}),s.jsxs(D,{style:{marginLeft:"2%",width:"20%",backgroundColor:"#ff4d4d"},children:[s.jsx(j,{style:{color:"white"},children:F}),s.jsxs(A,{children:[s.jsx(c,{onClick:()=>z("all",null),children:"Clear Category"}),q.map((t,a)=>s.jsx(c,{onClick:()=>z(a,t),children:t},a))]})]}),s.jsx($,{style:{marginLeft:"5%",width:"7%"},color:"secondary",children:"Send To"}),s.jsxs(D,{style:{marginLeft:"2%",width:"20%",backgroundColor:"#ff4d4d"},children:[s.jsx(j,{style:{color:"white"},children:G}),s.jsxs(A,{children:[s.jsx(c,{onClick:()=>y("all",null,"move"),children:"Clear Main Category"}),H.map((t,a)=>s.jsx(c,{onClick:()=>y(a,t,"move"),children:t},a))]})]}),s.jsx(ae,{style:{marginLeft:"0%",backgroundColor:"#ff4d4d",color:"white",width:"19%",marginTop:"3%"},onClick:()=>{X()},children:"Update"})]})};export{we as default};

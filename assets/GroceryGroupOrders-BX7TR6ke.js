import{x as L,r as d,B as T,z as c,j as e,i as v}from"./index-Dru6cJd9.js";import{a as O}from"./axios-B4uVmeYG.js";import{b as D}from"./CContainer-kO2Y6oaX.js";import{C as y}from"./CNavbar-DRD4R7UG.js";import{e as E}from"./DefaultLayout-vUwkg6tp.js";import{C as w,a as B,b as g,c as a,d as N,e as t}from"./CTable-DhhKy43I.js";import{C as S}from"./CCardImage-DfGr2nMq.js";const H=()=>{var x,m;const[{user:n,token:l},i]=L(),[h,f]=d.useState([]),[C,p]=d.useState(!1),{id:b}=T();d.useEffect(()=>{n&&l&&G(b)},[n,l]);const G=r=>{p(!0),O.get("http://15.160.211.157/assistant/grocery/group/orders/"+r,{headers:{Authorization:`Bearer ${l}`}}).then(s=>{s.status===200?(console.log(s.data),f(s.data),p(!1)):s.status===203?i({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===204?i({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===500&&i({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}})}).catch(s=>{console.error("Error:",s)})};return e.jsxs(D,{children:[e.jsx(y,{style:{borderBottomColor:"white"},className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Details"})}),e.jsx("div",{children:(x=h.items)==null?void 0:x.map((r,s)=>e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",marginTop:10},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{marginLeft:5},children:["Order No: ",e.jsx("a",{children:r.order.no})," "]}),e.jsxs("h6",{style:{marginLeft:5},children:["Status:"," ",e.jsx(E,{style:{width:80},color:"warning",children:r.order.status})]}),e.jsxs("h6",{style:{marginLeft:5},children:["Address: ",r.order.address]})]}),e.jsxs("div",{style:{marginLeft:500},children:[e.jsxs("h6",{style:{marginLeft:5},children:["Delivery Fee: ",r.order.deliveryFee]}),e.jsxs("h6",{style:{marginLeft:5},children:["Markup: ",r.order.markup]}),e.jsxs("h6",{style:{marginLeft:5},children:["Total: ",r.order.total]})]})]})},s))}),C?e.jsx(v,{}):e.jsxs("div",{children:[e.jsx(y,{className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Items"})}),e.jsxs(w,{children:[e.jsx(B,{children:e.jsxs(g,{children:[e.jsx(a,{scope:"col",children:"ID"}),e.jsx(a,{scope:"col",children:"Photo"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"Measure"}),e.jsx(a,{scope:"col",children:"Qty"}),e.jsx(a,{scope:"col",children:"Price"})]})}),e.jsx(N,{children:(m=h.items)==null?void 0:m.map((r,s)=>{var j;return(j=r.items)==null?void 0:j.map((o,u)=>e.jsxs(g,{children:[e.jsx(t,{children:u+1}),e.jsx(t,{children:e.jsx(S,{style:{width:50,height:50,borderRadius:10},src:`https://api.zeuler.com/image/${o.photo}`})}),e.jsx(t,{children:o.name}),e.jsx(t,{children:o.measure}),e.jsx(t,{children:o.qty}),e.jsx(t,{children:o.price})]},`${s}-${u}`))})})]})]})]})};export{H as default};

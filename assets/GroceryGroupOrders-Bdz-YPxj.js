import{x as G,r as d,B as T,z as c,j as e,h as v}from"./index-C4o43X40.js";import{a as O}from"./axios-B4uVmeYG.js";import{B}from"./config-HOLfLxHr.js";import{b as D}from"./CContainer-BRyEFYZi.js";import{C as y}from"./CNavbar-BzxbOaUc.js";import{d as E}from"./DefaultLayout-BWgnm1Mi.js";import{C as S,a as w,b as g,c as a,d as A,e as t}from"./CTable-eMZdAb-B.js";import{C as N}from"./CCardImage-DOIXYTWf.js";const M=()=>{var p,x;const[{user:n,token:l},i]=G(),[h,f]=d.useState([]),[C,m]=d.useState(!1),{id:b}=T();d.useEffect(()=>{n&&l&&L(b)},[n,l]);const L=r=>{m(!0),O.get(B+"assistant/grocery/group/orders/"+r,{headers:{Authorization:`Bearer ${l}`}}).then(s=>{s.status===200?(console.log(s.data),f(s.data),m(!1)):s.status===203?i({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===204?i({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===500&&i({type:c,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}})}).catch(s=>{console.error("Error:",s)})};return e.jsxs(D,{children:[e.jsx(y,{style:{borderBottomColor:"white"},className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Details"})}),e.jsx("div",{children:(p=h.items)==null?void 0:p.map((r,s)=>e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",marginTop:10},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{marginLeft:5},children:["Order No: ",e.jsx("a",{children:r.order.no})," "]}),e.jsxs("h6",{style:{marginLeft:5},children:["Status:"," ",e.jsx(E,{style:{width:80},color:"warning",children:r.order.status})]}),e.jsxs("h6",{style:{marginLeft:5},children:["Address: ",r.order.address]})]}),e.jsxs("div",{style:{marginLeft:500},children:[e.jsxs("h6",{style:{marginLeft:5},children:["Delivery Fee: ",r.order.deliveryFee]}),e.jsxs("h6",{style:{marginLeft:5},children:["Markup: ",r.order.markup]}),e.jsxs("h6",{style:{marginLeft:5},children:["Total: ",r.order.total]})]})]})},s))}),C?e.jsx(v,{}):e.jsxs("div",{children:[e.jsx(y,{className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Items"})}),e.jsxs(S,{children:[e.jsx(w,{children:e.jsxs(g,{children:[e.jsx(a,{scope:"col",children:"ID"}),e.jsx(a,{scope:"col",children:"Photo"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"Measure"}),e.jsx(a,{scope:"col",children:"Qty"}),e.jsx(a,{scope:"col",children:"Price"})]})}),e.jsx(A,{children:(x=h.items)==null?void 0:x.map((r,s)=>{var j;return(j=r.items)==null?void 0:j.map((o,u)=>e.jsxs(g,{children:[e.jsx(t,{children:u+1}),e.jsx(t,{children:e.jsx(N,{style:{width:50,height:50,borderRadius:10},src:`https://api.zeuler.com/image/${o.photo}`})}),e.jsx(t,{children:o.name}),e.jsx(t,{children:o.measure}),e.jsx(t,{children:o.qty}),e.jsx(t,{children:o.price})]},`${s}-${u}`))})})]})]})]})};export{M as default};

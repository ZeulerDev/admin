import{r as s,y as H,l as _,A as g,j as e,h as z,m as F}from"./index-xkWvTOBi.js";import{a as U}from"./axios-Cm0UX6qg.js";/* empty css               */import{B as Y}from"./config-CAsDK75y.js";import{b as q}from"./CContainer-3EDy8eE_.js";import{C as G}from"./CNavbar-DMk1JdFZ.js";import{C as J,a as K,b as V,d as W,e as I}from"./DefaultLayout-CKh5LGPH.js";import{C as X}from"./CFormInput-8S3bA1RE.js";import{C as Z,a as ee,b as f,c,d as te,e as n}from"./CTable-B86afwyC.js";import{c as se}from"./cil-clipboard-CrSEg4F6.js";import{C as ae,a as j}from"./CPaginationItem-DHPF0yFA.js";import"./CFormLabel-CPyH9RWq.js";const Ce=()=>{s.useState(!1),s.useState(!1);const[{user:S,token:p},i]=H();_();const[b,N]=s.useState([]);s.useState([]);const[v,m]=s.useState(!1);s.useState(!1),s.useState([]);const[w,re]=s.useState([]),[d,x]=s.useState(0),[k,T]=s.useState(!0),[E,A]=s.useState(0),[u,y]=s.useState(1),[C,D]=s.useState("NAME"),[o,B]=s.useState(""),[L,P]=s.useState(o);s.useEffect(()=>{const t=setTimeout(()=>{i({type:g,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),m(!1)},2e4);return S&&p&&h(0,t),()=>{clearTimeout(t)}},[S,p,L,C]),s.useEffect(()=>{const t=setTimeout(()=>{(o.length>=3||o.length===0)&&P(o)},500);return()=>{clearTimeout(t)}},[o]);const h=(t,r)=>{console.log(t,w),m(!0),U.get(Y+`product/registered/category/${t}?name=${o}&type=${C}`,{headers:{Authorization:`Bearer ${p}`}}).then(a=>{a.status===200?(N(a.data.list),A(a.data.count),console.log(a.data.list),m(!1),clearTimeout(r),a.data.list.length<50?(T(!0),console.log("ok")):a.data.list.length>49&&T(!1)):a.status===204?i({type:g,payload:{status:!0,title:"Orders loading error",message:a.data.message}}):a.status===500&&i({type:g,payload:{status:!0,title:"Orders loading error",message:a.data.message}})}).catch(a=>{console.error("Error:",a)})},M=()=>{y(u+1);const t=d+50;x(t),h(t,!0)},R=()=>{y(u-1);const t=d-50;console.log(t),x(t),h(t,!1)},Q=t=>{y(t);const r=(t-1)*50;x(r),h(r,!0)},$=()=>{const t=Math.ceil(E/50),r=[];for(let l=1;l<=t;l++)r.push(l);const a=Math.max(u-2,1),O=Math.min(a+4,t);return r.slice(a-1,O).map(l=>e.jsx(j,{active:u===l,onClick:()=>Q(l),children:l},l))};return e.jsxs(q,{children:[e.jsxs(G,{className:"bg-body-tertiary",style:{justifyContent:"flex-start"},children:[e.jsx(J,{style:{marginLeft:"0.2%"},color:"secondary",children:"Select the search type"}),e.jsxs(K,{style:{marginLeft:"0.5%",width:"20%",backgroundColor:"#ff4d4d"},children:[e.jsxs(V,{style:{color:"white"},children:[C," "]}),e.jsxs(W,{children:[e.jsx(I,{onClick:()=>D("NAME"),children:"By Name"}),e.jsx(I,{onClick:()=>D("ID"),children:"By Id"})]})]}),e.jsx(X,{type:"text",placeholder:"Search here",style:{width:450,marginLeft:"0.5%"},value:o,onChange:t=>B(t.target.value)})]}),v?e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(z,{style:{marginTop:"15%"}})}):e.jsxs(Z,{children:[e.jsx(ee,{children:e.jsxs(f,{children:[e.jsx(c,{scope:"col",children:"#"}),e.jsx(c,{scope:"col",children:"ID"}),e.jsx(c,{scope:"col",children:"Subcategory name"}),e.jsx(c,{scope:"col",children:"Main category Name"}),e.jsx(c,{scope:"col",children:"Is included"})]})}),e.jsx(te,{children:b.length===0?e.jsx(f,{children:e.jsx(n,{colSpan:"5",style:{textAlign:"center",backgroundColor:"white"},children:e.jsx("h6",{style:{marginTop:"1%"},children:"No Data"})})}):b.map((t,r)=>e.jsxs(f,{children:[e.jsx(n,{children:d+r+1}),e.jsx(n,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("div",{children:t.categoryId}),e.jsx("div",{children:e.jsx(F,{icon:se,onClick:()=>{navigator.clipboard.writeText(t.categoryId),i({type:g,payload:{status:!0,title:"Copy Success",message:"Category ID copied to clipboard",color:"success"}})}})})]})}),e.jsx(n,{children:t.name}),e.jsx(n,{children:t.mainCategory}),e.jsx(n,{children:t.isInclude===!0?"Yes":"No"})]},r))})]}),e.jsxs(ae,{"aria-label":"Page navigation example",children:[e.jsx(j,{disabled:d<=0,onClick:R,children:"Previous"}),$(),e.jsx(j,{disabled:k===!0,onClick:M,children:"Next"})]})]})};export{Ce as default};

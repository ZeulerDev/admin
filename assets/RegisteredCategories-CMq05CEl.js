import{r as a,y as R,l as $,A as p,j as e,h as O,m as Z}from"./index-CJ-e1XdK.js";import{a as Q}from"./axios-Cm0UX6qg.js";/* empty css               */import{B as _}from"./config-HOLfLxHr.js";import{b as z}from"./CContainer-BPPY1Q9a.js";import{C as F}from"./CNavbar-DPyXGWVC.js";import{C as U,a as Y,b as q,c as G,d as D}from"./DefaultLayout-DWwaUX_t.js";import{C as J}from"./CFormInput-DBMCobyK.js";import{C as K,a as W,b as P,c as l,d as X,e as c}from"./CTable-CkE6FbZW.js";import{C as ee,a as f}from"./CPaginationItem-DoU_pNV3.js";import"./CFormLabel-BEtRyV2p.js";var se=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M432,56H376V88h48V464H88V88h48V56H80A24.028,24.028,0,0,0,56,80V472a24.028,24.028,0,0,0,24,24H432a24.028,24.028,0,0,0,24-24V80A24.028,24.028,0,0,0,432,56Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M192,140H320a24.028,24.028,0,0,0,24-24V16H168V116A24.028,24.028,0,0,0,192,140Zm8-92H312v60H200Z' class='ci-primary'/>"];const me=()=>{a.useState(!1),a.useState(!1);const[{user:j,token:h},i]=R();$();const[v,I]=a.useState([]);a.useState([]);const[T,g]=a.useState(!1);a.useState(!1),a.useState([]);const[N,te]=a.useState([]),[n,m]=a.useState(0),[w,b]=a.useState(!0),[A,H]=a.useState(0),[d,x]=a.useState(1),[C,S]=a.useState("NAME"),[y,k]=a.useState("");a.useEffect(()=>{const s=setTimeout(()=>{i({type:p,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),g(!1)},2e4);return j&&h&&u(0,s),()=>{clearTimeout(s)}},[j,h,y,C]);const u=(s,r)=>{console.log(s,N),g(!0),Q.get(_+`product/registered/category/${s}?name=${y}&type=${C}`,{headers:{Authorization:`Bearer ${h}`}}).then(t=>{t.status===200?(I(t.data.list),H(t.data.count),console.log(t.data.list),g(!1),clearTimeout(r),t.data.list.length<50?(b(!0),console.log("ok")):t.data.list.length>49&&b(!1)):t.status===204?i({type:p,payload:{status:!0,title:"Orders loading error",message:t.data.message}}):t.status===500&&i({type:p,payload:{status:!0,title:"Orders loading error",message:t.data.message}})}).catch(t=>{console.error("Error:",t)})},E=()=>{x(d+1);const s=n+50;m(s),u(s,!0)},M=()=>{x(d-1);const s=n-50;console.log(s),m(s),u(s,!1)},V=s=>{x(s);const r=(s-1)*50;m(r),u(r,!0)},B=()=>{const s=Math.ceil(A/50),r=[];for(let o=1;o<=s;o++)r.push(o);const t=Math.max(d-2,1),L=Math.min(t+4,s);return r.slice(t-1,L).map(o=>e.jsx(f,{active:d===o,onClick:()=>V(o),children:o},o))};return e.jsxs(z,{children:[e.jsxs(F,{className:"bg-body-tertiary",style:{justifyContent:"flex-start"},children:[e.jsx(U,{style:{marginLeft:"0.2%"},color:"secondary",children:"Select the search type"}),e.jsxs(Y,{style:{marginLeft:"0.5%",width:"20%",backgroundColor:"#ff4d4d"},children:[e.jsxs(q,{children:[C," "]}),e.jsxs(G,{children:[e.jsx(D,{onClick:()=>S("NAME"),children:"By Name"}),e.jsx(D,{onClick:()=>S("ID"),children:"By Id"})]})]}),e.jsx(J,{type:"text",placeholder:"Search here",style:{width:450,marginLeft:"0.5%"},value:y,onChange:s=>k(s.target.value)})]}),T?e.jsx(O,{}):e.jsxs(K,{children:[e.jsx(W,{children:e.jsxs(P,{children:[e.jsx(l,{scope:"col",children:"#"}),e.jsx(l,{scope:"col",children:"ID"}),e.jsx(l,{scope:"col",children:"Subcategory name"}),e.jsx(l,{scope:"col",children:"Main category Name"}),e.jsx(l,{scope:"col",children:"Is included"})]})}),e.jsx(X,{children:v.map((s,r)=>e.jsxs(P,{children:[e.jsx(c,{children:n+r+1}),e.jsx(c,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("div",{children:s.categoryId}),e.jsx("div",{children:e.jsx(Z,{icon:se,onClick:()=>{navigator.clipboard.writeText(s.categoryId),i({type:p,payload:{status:!0,title:"Copy Success",message:"Category ID copied to clipboard",color:"success"}})}})})]})}),e.jsx(c,{children:s.name}),e.jsx(c,{children:s.mainCategory}),e.jsx(c,{children:s.isInclude===!0?"Yes":"No"})]},r))})]}),e.jsxs(ee,{"aria-label":"Page navigation example",children:[e.jsx(f,{disabled:n<=0,onClick:M,children:"Previous"}),B(),e.jsx(f,{disabled:w===!0,onClick:E,children:"Next"})]})]})};export{me as default};

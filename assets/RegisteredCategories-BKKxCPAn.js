import{r as s,y as $,l as O,A as p,j as e,h as Z,m as _}from"./index-B08OXeWv.js";import{a as z}from"./axios-Cm0UX6qg.js";/* empty css               */import{B as F}from"./config-HOLfLxHr.js";import{b as U}from"./CContainer-Bcycrjrg.js";import{C as Y}from"./CNavbar-CI1ooECg.js";import{C as q,a as G,b as J,c as K,d as T}from"./DefaultLayout-ZVM7TRL_.js";import{C as W}from"./CFormInput-BdPiiS44.js";import{C as X,a as ee,b as P,c,d as te,e as i}from"./CTable-isbk2Vch.js";import{C as se,a as f}from"./CPaginationItem-BtMnBLEs.js";import"./CFormLabel-SAczgcRM.js";var ae=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M432,56H376V88h48V464H88V88h48V56H80A24.028,24.028,0,0,0,56,80V472a24.028,24.028,0,0,0,24,24H432a24.028,24.028,0,0,0,24-24V80A24.028,24.028,0,0,0,432,56Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M192,140H320a24.028,24.028,0,0,0,24-24V16H168V116A24.028,24.028,0,0,0,192,140Zm8-92H312v60H200Z' class='ci-primary'/>"];const Ce=()=>{s.useState(!1),s.useState(!1);const[{user:j,token:g},n]=$();O();const[v,I]=s.useState([]);s.useState([]);const[N,m]=s.useState(!1);s.useState(!1),s.useState([]);const[w,re]=s.useState([]),[d,x]=s.useState(0),[A,S]=s.useState(!0),[E,H]=s.useState(0),[u,C]=s.useState(1),[y,b]=s.useState("NAME"),[o,k]=s.useState(""),[M,D]=s.useState(o);s.useEffect(()=>{const t=setTimeout(()=>{n({type:p,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),m(!1)},2e4);return j&&g&&h(0,t),()=>{clearTimeout(t)}},[j,g,M,y]),s.useEffect(()=>{const t=setTimeout(()=>{(o.length>=3||o.length===0)&&D(o)},500);return()=>{clearTimeout(t)}},[o]);const h=(t,r)=>{console.log(t,w),m(!0),z.get(F+`product/registered/category/${t}?name=${o}&type=${y}`,{headers:{Authorization:`Bearer ${g}`}}).then(a=>{a.status===200?(I(a.data.list),H(a.data.count),console.log(a.data.list),m(!1),clearTimeout(r),a.data.list.length<50?(S(!0),console.log("ok")):a.data.list.length>49&&S(!1)):a.status===204?n({type:p,payload:{status:!0,title:"Orders loading error",message:a.data.message}}):a.status===500&&n({type:p,payload:{status:!0,title:"Orders loading error",message:a.data.message}})}).catch(a=>{console.error("Error:",a)})},V=()=>{C(u+1);const t=d+50;x(t),h(t,!0)},B=()=>{C(u-1);const t=d-50;console.log(t),x(t),h(t,!1)},L=t=>{C(t);const r=(t-1)*50;x(r),h(r,!0)},R=()=>{const t=Math.ceil(E/50),r=[];for(let l=1;l<=t;l++)r.push(l);const a=Math.max(u-2,1),Q=Math.min(a+4,t);return r.slice(a-1,Q).map(l=>e.jsx(f,{active:u===l,onClick:()=>L(l),children:l},l))};return e.jsxs(U,{children:[e.jsxs(Y,{className:"bg-body-tertiary",style:{justifyContent:"flex-start"},children:[e.jsx(q,{style:{marginLeft:"0.2%"},color:"secondary",children:"Select the search type"}),e.jsxs(G,{style:{marginLeft:"0.5%",width:"20%",backgroundColor:"#ff4d4d"},children:[e.jsxs(J,{children:[y," "]}),e.jsxs(K,{children:[e.jsx(T,{onClick:()=>b("NAME"),children:"By Name"}),e.jsx(T,{onClick:()=>b("ID"),children:"By Id"})]})]}),e.jsx(W,{type:"text",placeholder:"Search here",style:{width:450,marginLeft:"0.5%"},value:o,onChange:t=>k(t.target.value)})]}),N?e.jsx(Z,{}):e.jsxs(X,{children:[e.jsx(ee,{children:e.jsxs(P,{children:[e.jsx(c,{scope:"col",children:"#"}),e.jsx(c,{scope:"col",children:"ID"}),e.jsx(c,{scope:"col",children:"Subcategory name"}),e.jsx(c,{scope:"col",children:"Main category Name"}),e.jsx(c,{scope:"col",children:"Is included"})]})}),e.jsx(te,{children:v.map((t,r)=>e.jsxs(P,{children:[e.jsx(i,{children:d+r+1}),e.jsx(i,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("div",{children:t.categoryId}),e.jsx("div",{children:e.jsx(_,{icon:ae,onClick:()=>{navigator.clipboard.writeText(t.categoryId),n({type:p,payload:{status:!0,title:"Copy Success",message:"Category ID copied to clipboard",color:"success"}})}})})]})}),e.jsx(i,{children:t.name}),e.jsx(i,{children:t.mainCategory}),e.jsx(i,{children:t.isInclude===!0?"Yes":"No"})]},r))})]}),e.jsxs(se,{"aria-label":"Page navigation example",children:[e.jsx(f,{disabled:d<=0,onClick:B,children:"Previous"}),R(),e.jsx(f,{disabled:A===!0,onClick:V,children:"Next"})]})]})};export{Ce as default};

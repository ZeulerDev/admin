import{y as C,l as b,r as n,D as y,A as o,j as a,h as T,L as k,m as B}from"./index-CWDQXXtj.js";import{a as D}from"./axios-Cm0UX6qg.js";import{B as E}from"./config-HOLfLxHr.js";import{b as L}from"./CContainer-8WIDuvDW.js";import{C as A}from"./CNavbar-16EJPcId.js";import{C as S,a as N,b as p,c as i,d as R,e as l}from"./CTable-U43GmZre.js";import{e as M}from"./DefaultLayout-B6bplikB.js";const O=()=>{var u;const[{user:m,token:c},t]=C();b();const[x,j]=n.useState([]),[g,d]=n.useState(!1),{id:h}=y();n.useEffect(()=>{const s=setTimeout(()=>{t({type:o,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),d(!1)},2e4);return m&&c&&f(h,s),()=>{clearTimeout(s)}},[m,c]);const f=(s,r)=>{d(!0),D.get(E+"assistant/batch/markets/"+s,{headers:{Authorization:`Bearer ${c}`}}).then(e=>{e.status===200?(console.log(e.data),j(e.data),d(!1),clearTimeout(r)):e.status===203?t({type:o,payload:{status:!0,title:"Batch markets loading error",message:e.data.message}}):e.status===204?t({type:o,payload:{status:!0,title:"Batch markets loading error",message:e.data.message}}):e.status===500&&t({type:o,payload:{status:!0,title:"Batch markets loading error",message:e.data.message}})}).catch(e=>{console.error("Error:",e)})};return a.jsxs(L,{children:[a.jsx(A,{className:"bg-body-tertiary"}),g?a.jsx(T,{}):a.jsxs(S,{children:[a.jsx(N,{children:a.jsxs(p,{children:[a.jsx(i,{scope:"col",children:"#"}),a.jsx(i,{scope:"col",children:"Chain Name"}),a.jsx(i,{scope:"col",children:"Address"}),a.jsx(i,{scope:"col",children:"Orders"})]})}),a.jsx(R,{children:(u=x.markets)==null?void 0:u.map((s,r)=>a.jsxs(p,{children:[a.jsx(l,{children:r+1}),a.jsx(l,{children:s.chain}),a.jsx(l,{children:s.address}),a.jsx(l,{children:a.jsx(k,{to:`/order/batches/market/orders/${h}/${s.id}`,children:a.jsx(B,{icon:M,size:"xl"})})})]},r))})]})]})};export{O as default};

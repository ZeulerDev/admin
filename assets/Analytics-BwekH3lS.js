import{r as c,_ as K,R as m,a as Q,c as U,P as n,b as X,y as Z,A as H,j as e,h as D}from"./index-Dbmmp1pN.js";import{f as u,D as ee}from"./rsuite-CfXCebXi.js";import{a as re}from"./axios-Cm0UX6qg.js";import{b as se}from"./CContainer-CHnXGJZP.js";import{C as le}from"./CNavbar-Bn5ATqBf.js";import{C as x}from"./CRow-BbtDu10m.js";import{C as l}from"./CCol-Bug9unDg.js";import{C as te,a as de}from"./CCardBody-DTF9z71a.js";import"./inheritsLoose-CkMbdMht.js";import"./index-BJ9Aqouq.js";var s=c.forwardRef(function(d,a){var h,j=d.action,_=d.chart,v=d.className,i=d.color,r=d.title,g=d.value,F=K(d,["action","chart","className","color","title","value"]);return m.createElement(te,Q({className:U((h={},h["bg-".concat(i)]=i,h["text-white"]=i,h),v)},F,{ref:a}),m.createElement(de,{className:"pb-0 d-flex justify-content-between align-items-start"},m.createElement("div",null,g&&m.createElement("div",{className:"fs-4 fw-semibold"},g),r&&m.createElement("div",null,r)),j),_)});s.propTypes={action:n.node,chart:n.oneOfType([n.string,n.node]),className:n.string,color:X,title:n.oneOfType([n.string,n.node]),value:n.oneOfType([n.string,n.node,n.number])};s.displayName="CWidgetStatsA";const fe=()=>{var p,C,b,k,N,w,A,y,T,O,M,E,P,S,R,G,B,L,$,z,V,W,Y,q;const[d,a]=c.useState([]),[h,j]=c.useState(!1),[{user:_,token:v},i]=Z(),[r,g]=c.useState([]);c.useEffect(()=>{const o=new Date,t=new Date(o.getFullYear(),o.getMonth(),o.getDate()-30),f=u(t,"yyyy-MM-dd"),J=u(o,"yyyy-MM-dd");a([f,J])},[]),c.useEffect(()=>{I(d)},[d]);const F=o=>{if(o){const t=u(o[0],"yyyy-MM-dd"),f=u(o[1],"yyyy-MM-dd");a([t,f]),console.log(t,f)}else a([])},I=o=>{o.length===2&&(console.log(o),j(!0),re.get(`https://api.zeuler.com/panel/ue/kpi?start=${o[0]}&end=${o[1]}`,{headers:{Authorization:`Bearer ${v}`}}).then(t=>{t.status===200?(console.log(t.data),g(t.data),j(!1)):t.status===204?i({type:H,payload:{status:!0,title:"Analytics Data loading error",message:t.data.message}}):t.status===500&&i({type:H,payload:{status:!0,title:"Analytics Data loading error",message:t.data.message}})}).catch(t=>{console.error("Error:",t)}))};return e.jsxs(se,{children:[e.jsx(le,{className:"bg-body-tertiary",children:e.jsx(ee,{style:{marginLeft:15},format:"yyyy/MM/dd",onChange:F,value:d.length>0?[new Date(d[0]),new Date(d[1])]:null})}),e.jsx("br",{}),h?e.jsx(D,{}):e.jsxs(e.Fragment,{children:[e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsx("h2",{children:r.tot_orders?r.tot_orders:0})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Orders"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsx("h2",{children:r.tot_batches?r.tot_batches:0})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Batches"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsx("h2",{children:((p=r==null?void 0:r.ave_orders_per_batch)==null?void 0:p.toFixed(2))||0})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Orders Per Batch"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((C=r==null?void 0:r.aov)==null?void 0:C.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Order Value"})})})})]}),e.jsx("br",{}),e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((b=r==null?void 0:r.tot_value)==null?void 0:b.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Value"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((k=r==null?void 0:r.tot_cost_product)==null?void 0:k.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Cost Products"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((N=r==null?void 0:r.ave_order_rev)==null?void 0:N.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Order Revenue"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((w=r==null?void 0:r.tot_rev)==null?void 0:w.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Revenue"})})})})]}),e.jsx("br",{}),e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((A=r==null?void 0:r.ave_batch_cogs)==null?void 0:A.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Batch COGS"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((y=r==null?void 0:r.ave_order_cogs)==null?void 0:y.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Order COGS"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((T=r==null?void 0:r.tot_cogs)==null?void 0:T.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total COGS"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((O=r==null?void 0:r.ave_order_gross_profit)==null?void 0:O.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Order Gross Profit"})})})})]}),e.jsx("br",{}),e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((M=r==null?void 0:r.tot_gross_profit)==null?void 0:M.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Gross Profit"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((E=r==null?void 0:r.grocess_margin)==null?void 0:E.toFixed(2))||0," %"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Order Gross Margin (%)"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((P=r==null?void 0:r.ave_order_grocess_margin)==null?void 0:P.toFixed(2))||0," %"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Order Gross Margin (%)"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((S=r==null?void 0:r.tot_driver_cost)==null?void 0:S.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Driver Cost"})})})})]}),e.jsx("br",{}),e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((R=r==null?void 0:r.ave_driver_cost_per_order)==null?void 0:R.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Driver Cost per Order"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((G=r==null?void 0:r.ave_driver_cost_per_driver)==null?void 0:G.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Driver Cost per Driver"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((B=r==null?void 0:r.tot_picker_cost)==null?void 0:B.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Picker Cost"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((L=r==null?void 0:r.ave_picker_cost_per_order)==null?void 0:L.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Picker Cost per Order"})})})})]}),e.jsx("br",{}),e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[(($=r==null?void 0:r.ave_picker_cost_per_picker)==null?void 0:$.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Picker Cost per Picker"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((z=r==null?void 0:r.tot_driver_and_picker_cost)==null?void 0:z.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Driver and Picker Cost"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((V=r==null?void 0:r.ave_driver_and_picker_cost_per_order)==null?void 0:V.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Driver and Picker Cost per Order"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((W=r==null?void 0:r.ave_markup)==null?void 0:W.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Markup"})})})})]}),e.jsx("br",{}),e.jsxs(x,{xs:{gutter:4},children:[e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((Y=r==null?void 0:r.tot_markup)==null?void 0:Y.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Total Markup"})})})}),e.jsx(l,{sm:6,xl:4,xxl:3,children:e.jsx(s,{style:{height:160,backgroundColor:"#ff4d4d"},value:e.jsx(e.Fragment,{children:e.jsxs("h2",{children:[((q=r==null?void 0:r.ave_small_order_fee)==null?void 0:q.toFixed(2))||0," €"]})}),title:e.jsx(e.Fragment,{children:e.jsx("h5",{className:" fw-normal",children:"Average Small Order Fee"})})})})]}),e.jsx("br",{})]})]})};export{fe as default};

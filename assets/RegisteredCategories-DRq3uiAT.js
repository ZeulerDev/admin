import{r as s,y as H,l as _,A as g,j as e,h as z,m as F}from"./index-Bsn8dk4K.js";import{a as U}from"./axios-Cm0UX6qg.js";/* empty css               */import{B as Y}from"./config-CAsDK75y.js";import{b as q}from"./CContainer-AV4JspaL.js";import{C as G}from"./CNavbar-5ERL6Uil.js";import{C as J,a as K,b as V,d as W,e as T}from"./DefaultLayout-FA2rmZWX.js";import{C as X}from"./CFormInput--iaGGot-.js";import{C as Z,a as ee,b as P,c as n,d as te,e as c}from"./CTable-CwbSrcrF.js";import{c as se}from"./cil-clipboard-CrSEg4F6.js";import{C as ae,a as y}from"./CPaginationItem-TLWytmzh.js";import"./CFormLabel-iOJk5yzm.js";const fe=()=>{s.useState(!1),s.useState(!1);const[{user:j,token:p},i]=H();_();const[I,N]=s.useState([]);s.useState([]);const[v,m]=s.useState(!1);s.useState(!1),s.useState([]);const[w,re]=s.useState([]),[d,x]=s.useState(0),[E,S]=s.useState(!0),[k,A]=s.useState(0),[u,C]=s.useState(1),[f,b]=s.useState("NAME"),[o,B]=s.useState(""),[L,D]=s.useState(o);s.useEffect(()=>{const t=setTimeout(()=>{i({type:g,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),m(!1)},2e4);return j&&p&&h(0,t),()=>{clearTimeout(t)}},[j,p,L,f]),s.useEffect(()=>{const t=setTimeout(()=>{(o.length>=3||o.length===0)&&D(o)},500);return()=>{clearTimeout(t)}},[o]);const h=(t,r)=>{console.log(t,w),m(!0),U.get(Y+`product/registered/category/${t}?name=${o}&type=${f}`,{headers:{Authorization:`Bearer ${p}`}}).then(a=>{a.status===200?(N(a.data.list),A(a.data.count),console.log(a.data.list),m(!1),clearTimeout(r),a.data.list.length<50?(S(!0),console.log("ok")):a.data.list.length>49&&S(!1)):a.status===204?i({type:g,payload:{status:!0,title:"Orders loading error",message:a.data.message}}):a.status===500&&i({type:g,payload:{status:!0,title:"Orders loading error",message:a.data.message}})}).catch(a=>{console.error("Error:",a)})},M=()=>{C(u+1);const t=d+50;x(t),h(t,!0)},R=()=>{C(u-1);const t=d-50;console.log(t),x(t),h(t,!1)},Q=t=>{C(t);const r=(t-1)*50;x(r),h(r,!0)},$=()=>{const t=Math.ceil(k/50),r=[];for(let l=1;l<=t;l++)r.push(l);const a=Math.max(u-2,1),O=Math.min(a+4,t);return r.slice(a-1,O).map(l=>e.jsx(y,{active:u===l,onClick:()=>Q(l),children:l},l))};return e.jsxs(q,{children:[e.jsxs(G,{className:"bg-body-tertiary",style:{justifyContent:"flex-start"},children:[e.jsx(J,{style:{marginLeft:"0.2%"},color:"secondary",children:"Select the search type"}),e.jsxs(K,{style:{marginLeft:"0.5%",width:"20%",backgroundColor:"#ff4d4d"},children:[e.jsxs(V,{children:[f," "]}),e.jsxs(W,{children:[e.jsx(T,{onClick:()=>b("NAME"),children:"By Name"}),e.jsx(T,{onClick:()=>b("ID"),children:"By Id"})]})]}),e.jsx(X,{type:"text",placeholder:"Search here",style:{width:450,marginLeft:"0.5%"},value:o,onChange:t=>B(t.target.value)})]}),v?e.jsx(z,{}):e.jsxs(Z,{children:[e.jsx(ee,{children:e.jsxs(P,{children:[e.jsx(n,{scope:"col",children:"#"}),e.jsx(n,{scope:"col",children:"ID"}),e.jsx(n,{scope:"col",children:"Subcategory name"}),e.jsx(n,{scope:"col",children:"Main category Name"}),e.jsx(n,{scope:"col",children:"Is included"})]})}),e.jsx(te,{children:I.map((t,r)=>e.jsxs(P,{children:[e.jsx(c,{children:d+r+1}),e.jsx(c,{children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("div",{children:t.categoryId}),e.jsx("div",{children:e.jsx(F,{icon:se,onClick:()=>{navigator.clipboard.writeText(t.categoryId),i({type:g,payload:{status:!0,title:"Copy Success",message:"Category ID copied to clipboard",color:"success"}})}})})]})}),e.jsx(c,{children:t.name}),e.jsx(c,{children:t.mainCategory}),e.jsx(c,{children:t.isInclude===!0?"Yes":"No"})]},r))})]}),e.jsxs(ae,{"aria-label":"Page navigation example",children:[e.jsx(y,{disabled:d<=0,onClick:R,children:"Previous"}),$(),e.jsx(y,{disabled:E===!0,onClick:M,children:"Next"})]})]})};export{fe as default};

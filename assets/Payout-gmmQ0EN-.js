import{r as a,y as P,A as f,j as e,i as k}from"./index-DhnWnN6C.js";import{a as A}from"./axios-Cm0UX6qg.js";import{B}from"./config-HOLfLxHr.js";import{b as R}from"./CContainer-DZoA_kII.js";import{C as L}from"./CNavbar-DbEDpOvG.js";import{C as N}from"./CFormInput-C14hXAbH.js";import{C as v,a as $,b as m,c,e as H}from"./DefaultLayout-BqMIywhx.js";import{C as I,a as Q,b as g,c as o,d as W,e as t}from"./CTable-Z4wA7KkK.js";import"./CFormLabel-j42fxhPl.js";const K=()=>{a.useState(!1),a.useState(!1);const[{user:C,token:i},u]=P(),[y,h]=a.useState(!1),[S,b]=a.useState([]);a.useState([]);const[w,p]=a.useState("All"),[x,j]=a.useState(""),[d,T]=a.useState("");a.useState(""),a.useState(""),a.useEffect(()=>{console.log("Payout with"),C&&i&&(console.log("Payout with user"),D())},[x,d]),a.useEffect(()=>{console.log("just call in effect")},[]);const D=()=>{h(!0),A.get(B+`assistant/pickers/payouts/0?status=${x}&no=${d}`,{headers:{Authorization:`Bearer ${i}`}}).then(s=>{s.status===200?(b(s.data),h(!1)):s.status===204?u({type:f,payload:{status:!0,title:"Error",message:s.data.message,color:"warning"}}):s.status===500&&u({type:f,payload:{status:!0,title:"Error",message:s.data.message,color:"warning"}})}).catch(s=>{console.log("Error",s)})},l=s=>{s==="all"?(j(""),p("All")):(console.log(s),j(s),p(s))};return e.jsxs(R,{children:[e.jsxs(L,{className:"bg-body-tertiary",children:[e.jsx(N,{type:"text",placeholder:"Search By No",style:{width:200,marginLeft:"1%"},value:d,onChange:s=>T(s.target.value)}),e.jsxs(v,{style:{marginLeft:"65%",width:"10%",backgroundColor:"#ff4d4d"},children:[e.jsx($,{children:w}),e.jsxs(m,{children:[e.jsx(c,{onClick:()=>l("all"),children:"All"}),e.jsx(c,{onClick:()=>l("pending"),children:"Pending"}),e.jsx(c,{onClick:()=>l("sent"),children:"Sent"}),e.jsx(c,{onClick:()=>l("ready"),children:"Ready"}),e.jsx(c,{onClick:()=>l("waiting"),children:"Waiting"}),e.jsx(c,{onClick:()=>l("done"),children:"Done"})]})]}),e.jsx("br",{})]}),y?e.jsx(k,{}):e.jsxs(I,{children:[e.jsx(Q,{children:e.jsxs(g,{children:[e.jsx(o,{scope:"col",children:"No"}),e.jsx(o,{scope:"col",children:"Name"}),e.jsx(o,{scope:"col",children:"Status"}),e.jsx(o,{scope:"col",children:"Date"}),e.jsx(o,{scope:"col",children:"Total"}),e.jsx(o,{scope:"col",children:"Tax"}),e.jsx(o,{scope:"col",children:"Tips"}),e.jsx(o,{scope:"col",children:"Payable"}),e.jsx(o,{scope:"col",children:"Action"}),e.jsx(o,{scope:"col"})]})}),e.jsx(W,{children:S.map((s,E)=>{let n="info",r="";return(s==null?void 0:s.status)==="pending"?(r="Pending",n="info"):(s==null?void 0:s.status)==="done"?(r="Paid",n="primary"):(s==null?void 0:s.status)==="sent"?(r="Sent",n="success"):(s==null?void 0:s.status)==="waiting"?(r="Waiting",n="warning"):(s==null?void 0:s.status)==="ready"&&(r="Ready",n="danger"),e.jsxs(g,{children:[e.jsx(t,{children:s.no}),e.jsx(t,{children:s.name}),e.jsx(t,{children:e.jsx(H,{style:{width:60},color:n,children:r})}),e.jsx(t,{children:s.date}),e.jsx(t,{children:s.total}),e.jsx(t,{children:s.tax}),e.jsx(t,{children:s.tips}),e.jsx(t,{children:s.payable})]},E)})})]})]})};export{K as default};

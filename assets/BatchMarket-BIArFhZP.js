import{x as C,l as b,r as d,A as y,z as l,j as e,h as T,L as k,m as B}from"./index-DaboRuf6.js";import{a as A}from"./axios-B4uVmeYG.js";import{B as D}from"./config-HOLfLxHr.js";import{b as E}from"./CContainer-2x7Z1Exw.js";import{C as L}from"./CNavbar-C5whDHHf.js";import{C as N,a as S,b as m,c as i,d as R,e as t}from"./CTable-HWQYIuPu.js";import{c as v}from"./DefaultLayout-C7qb2XTq.js";const O=()=>{var p;const[{user:h,token:c},r]=C();b();const[x,j]=d.useState([]),[g,n]=d.useState(!1),{id:u}=y();d.useEffect(()=>{const s=setTimeout(()=>{r({type:l,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),n(!1)},2e4);return h&&c&&f(u,s),()=>{clearTimeout(s)}},[h,c]);const f=(s,o)=>{n(!0),A.get(D+"assistant/batch/markets/"+s,{headers:{Authorization:`Bearer ${c}`}}).then(a=>{a.status===200?(j(a.data),n(!1),clearTimeout(o)):a.status===203?r({type:l,payload:{status:!0,title:"Batch markets loading error",message:a.data.message}}):a.status===204?r({type:l,payload:{status:!0,title:"Batch markets loading error",message:a.data.message}}):a.status===500&&r({type:l,payload:{status:!0,title:"Batch markets loading error",message:a.data.message}})}).catch(a=>{console.error("Error:",a)})};return e.jsxs(E,{children:[e.jsx(L,{className:"bg-body-tertiary"}),g?e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx(T,{style:{marginTop:"15%"}})}):e.jsxs(N,{children:[e.jsx(S,{children:e.jsxs(m,{children:[e.jsx(i,{scope:"col",children:"#"}),e.jsx(i,{scope:"col",children:"Chain Name"}),e.jsx(i,{scope:"col",children:"Address"}),e.jsx(i,{scope:"col",children:"Orders"})]})}),e.jsx(R,{children:x.length===0?e.jsx(m,{children:e.jsx(t,{colSpan:"4",style:{textAlign:"center",backgroundColor:"white"},children:e.jsx("h6",{style:{marginTop:"1%"},children:"No Data"})})}):(p=x.markets)==null?void 0:p.map((s,o)=>e.jsxs(m,{children:[e.jsx(t,{children:o+1}),e.jsx(t,{children:s.chain}),e.jsx(t,{children:s.address}),e.jsx(t,{children:e.jsx(k,{to:`/order/batches/market/orders/${u}/${s.id}`,children:e.jsx(B,{icon:v,size:"xl"})})})]},o))})]})]})};export{O as default};

import{y as L,r as h,D as G,A as d,j as e,h as D}from"./index-CWDQXXtj.js";import{a as v}from"./axios-Cm0UX6qg.js";import{B as O}from"./config-HOLfLxHr.js";import{b as E}from"./CContainer-8WIDuvDW.js";import{C as g}from"./CNavbar-16EJPcId.js";import{d as w}from"./DefaultLayout-B6bplikB.js";import{C as A,a as B,b as y,c as a,d as S,e as t}from"./CTable-U43GmZre.js";import{C as N}from"./CCardImage-CrYRWt3m.js";const M=()=>{var x,u;const[{user:m,token:c},l]=L(),[p,f]=h.useState([]),[C,n]=h.useState(!1),{id:b}=G();h.useEffect(()=>{const r=setTimeout(()=>{l({type:d,payload:{status:!0,title:"Data Loading",message:"Data loading error: Timeout exceeded",color:"warning"}}),n(!1)},2e4);return m&&c&&T(b,r),()=>{clearTimeout(r)}},[m,c]);const T=(r,o)=>{n(!0),v.get(O+"assistant/grocery/group/orders/"+r,{headers:{Authorization:`Bearer ${c}`}}).then(s=>{s.status===200?(console.log(s.data),f(s.data),n(!1),clearTimeout(o)):s.status===203?l({type:d,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===204?l({type:d,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}}):s.status===500&&l({type:d,payload:{status:!0,title:"Grocery Groups Orders loading error",message:s.data.message}})}).catch(s=>{console.error("Error:",s)})};return e.jsxs(E,{children:[e.jsx(g,{style:{borderBottomColor:"white"},className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Details"})}),e.jsx("div",{children:(x=p.items)==null?void 0:x.map((r,o)=>e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",marginTop:10},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{marginLeft:5},children:["Order No: ",e.jsx("a",{children:r.order.no})," "]}),e.jsxs("h6",{style:{marginLeft:5},children:["Status:"," ",e.jsx(w,{style:{width:80},color:"warning",children:r.order.status})]}),e.jsxs("h6",{style:{marginLeft:5},children:["Address: ",r.order.address]})]}),e.jsxs("div",{style:{marginLeft:500},children:[e.jsxs("h6",{style:{marginLeft:5},children:["Delivery Fee: ",r.order.deliveryFee]}),e.jsxs("h6",{style:{marginLeft:5},children:["Markup: ",r.order.markup]}),e.jsxs("h6",{style:{marginLeft:5},children:["Total: ",r.order.total]})]})]})},o))}),C?e.jsx(D,{}):e.jsxs("div",{children:[e.jsx(g,{className:"bg-body-tertiary",children:e.jsx("h5",{style:{marginLeft:5,fontWeight:"bold"},children:"Order Items"})}),e.jsxs(A,{children:[e.jsx(B,{children:e.jsxs(y,{children:[e.jsx(a,{scope:"col",children:"ID"}),e.jsx(a,{scope:"col",children:"Photo"}),e.jsx(a,{scope:"col",children:"Name"}),e.jsx(a,{scope:"col",children:"Measure"}),e.jsx(a,{scope:"col",children:"Qty"}),e.jsx(a,{scope:"col",children:"Price"})]})}),e.jsx(S,{children:(u=p.items)==null?void 0:u.map((r,o)=>{var s;return(s=r.items)==null?void 0:s.map((i,j)=>e.jsxs(y,{children:[e.jsx(t,{children:j+1}),e.jsx(t,{children:e.jsx(N,{style:{width:50,height:50,borderRadius:10},src:`https://api.zeuler.com/image/${i.photo}`})}),e.jsx(t,{children:i.name}),e.jsx(t,{children:i.measure}),e.jsx(t,{children:i.qty}),e.jsx(t,{children:i.price})]},`${o}-${j}`))})})]})]})]})};export{M as default};

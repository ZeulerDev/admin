import{r as a,x as z,l as L,j as e,z as n}from"./index-CPWz2mBo.js";import{a as M}from"./axios-B4uVmeYG.js";import{m as T}from"./helpers-KIKB9CVT.js";import{b as O,a as _}from"./CContainer-DVjuDtow.js";import{C as s}from"./CCol-DDJXnyWl.js";import{C as r}from"./CFormInput-5yBBU1-5.js";import{C as S}from"./CFormSelect-BOAJCtJ5.js";import"./CFormLabel-BpCfGFcO.js";const X=()=>{const[i,b]=a.useState(),[d,w]=a.useState(),[u,V]=a.useState(),[c,E]=a.useState(),[m,D]=a.useState(),[g,N]=a.useState(),[h,R]=a.useState(),[p,A]=a.useState(),[x,I]=a.useState(),[j,y]=a.useState(),[C,k]=a.useState(),[v,B]=a.useState(),[{user:F,token:f},l]=z(),P=L();a.useEffect(()=>{const t=T(8);B(t)},[]);const G=()=>{if(i&&d&&u&&c&&m&&g&&p&&j&&h&&x&&C&&v){const t={name:i,surname:d,password:u,email:c,code:v,contact:m,iban:g,city:p,vat:j,employeeId:h,gender:x,address:C};f&&F&&f&&M.post("https://15.160.211.157/rider/create",t,{headers:{Authorization:`Bearer ${f}`}}).then(o=>{o.status===200?(l({type:n,payload:{status:!0,title:"Driver Registration",message:"Driver Registration Success",color:"success"}}),P("/driver/view")):o.status===203?l({type:n,payload:{status:!0,title:"Driver Registration error",message:o.data.message,color:"warning"}}):o.status===204?l({type:n,payload:{status:!0,title:"Driver Registration error",message:o.data.message,color:"warning"}}):o.status===500&&l({type:n,payload:{status:!0,title:"Driver Registration error",message:o.data.message,color:"warning"}})}).catch(o=>{console.error("Error:",o)})}else l({type:n,payload:{status:!0,title:"Error!",message:"Driver Registration error, Please Check the input fields",color:"warning"}})};return e.jsx(O,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx(s,{md:6,children:e.jsx(r,{id:"name",label:"Firt Name",defaultValue:i,onChange:t=>b(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"surname",label:"LastName",defaultValue:d,onChange:t=>w(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"address",label:"Address",defaultValue:C,onChange:t=>k(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"password",label:"Password",type:"password",defaultValue:u,onChange:t=>V(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"email",label:"Email",defaultValue:c,onChange:t=>E(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"phone",label:"Contact Number",defaultValue:m,onChange:t=>D(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"iban",label:"IBAN",defaultValue:g,onChange:t=>N(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"employeeid",label:"Employee Id",defaultValue:h,onChange:t=>R(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"vat",label:"Vat",defaultValue:j,onChange:t=>y(t.target.value)})}),e.jsx(s,{md:6,children:e.jsx(r,{id:"code",label:"Code",defaultValue:v,readOnly:!0,onChange:t=>y(t.target.value)})}),e.jsx(s,{md:6,children:e.jsxs(S,{id:"inputState",label:"City",value:p,onChange:t=>A(t.target.value),children:[e.jsx("option",{children:"Select City"}),e.jsx("option",{children:"Milano"}),e.jsx("option",{children:"Napoli"})]})}),e.jsx(s,{md:6,children:e.jsxs(S,{id:"gender",label:"Gender",value:x,onChange:t=>I(t.target.value),children:[e.jsx("option",{children:"Select Gender"}),e.jsx("option",{children:"Male"}),e.jsx("option",{children:"Female"})]})}),e.jsx(s,{xs:12,children:e.jsx(_,{color:"warning",type:"submit",style:{marginBottom:"3%",width:"200px"},onClick:()=>G(),children:"Add Driver"})})]})})};export{X as default};
